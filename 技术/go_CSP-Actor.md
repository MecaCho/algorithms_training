# CSP----Communicating Sequential Processes

CSP 模型，以通信的方式共享内存。

“不要以共享内存方式通信，要以通信方式共享内存（Don’t communicate by sharing memory, share memory by communicating）。”



# Actor 模型

Actor 模型是一种非常简单的计算模型，其中 Actor 是最基本的计算单元，Actor 之间是通过消息进行通信。
Actor 与面向对象编程（OOP）中的对象匹配度非常高，在面向对象编程里，系统由类似于生物细胞那样的对象构成，对象之间也是通过消息进行通信，所以在面向对象语言里使用 Actor 模型基本上不会有违和感。

Actor 可以创建新的 Actor，这些 Actor 最终会呈现出一个树状结构，非常像现实世界里的组织结构，所以利用 Actor 模型来对程序进行建模，和现实世界的匹配度非常高。
Actor 模型和现实世界一样都是异步模型，理论上不保证消息百分百送达，也不保证消息送达的顺序和发送的顺序是一致的，甚至无法保证消息会被百分百处理。虽然实现 Actor 模型的厂商都在试图解决这些问题，但遗憾的是解决得并不完美，所以使用 Actor 模型也是有成本的。

在 Actor 模型里，发送消息仅仅是把消息发出去而已，接收消息的 Actor 在接收到消息后，也不一定会立即处理，也就是说 Actor 中的消息机制完全是异步的。
而调用对象方法，实际上是同步的，对象方法 return 之前，调用方会一直等待。

除此之外，调用对象方法，需要持有对象的引用，所有的对象必须在同一个进程中。
而在 Actor 中发送消息，类似于现实中的写信，只需要知道对方的地址就可以，发送消息和接收消息的 Actor 可以不在一个进程中，也可以不在同一台机器上。因此，Actor 模型不但适用于并发计算，还适用于分布式计算。

## Actor 的规范化定义

Actor 是一种基础的计算单元，具体来讲包括三部分能力，分别是：
- 处理能力，处理接收到的消息。
- 存储能力，Actor 可以存储自己的内部状态，并且内部状态在不同 
    Actor 之间是绝对隔离的。
- 通信能力，Actor 可以和其他 Actor 之间通信。
    当一个 Actor 接收的一条消息之后，这个 Actor 可以做以下三件事：
    创建更多的 Actor；
    发消息给其他 Actor；
    确定如何处理下一条消息。
    
# CSP 模型与 Actor 模型的区别

1。Actor 模型中没有 channel    

2。Actor 模型中发送消息是非阻塞的，而 CSP 模型中是阻塞的。    
Golang 实现的 CSP 模型，channel 是一个阻塞队列，
当阻塞队列已满的时候，向 channel 中发送数据，会导致发送消息的协程阻塞。

3。Actor 模型理论上不保证消息百分百送达，而在 Golang 实现的 CSP 模型中，是能保证消息百分百送达的。
不过这种百分百送达也是有代价的，那就是有可能会导致死锁。
